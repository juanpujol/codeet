"use strict";angular.module("codeet",["ngRoute","ui.ace"]).config(["$locationProvider","$sceProvider",function(a,b){a.hashPrefix("!"),b.enabled(!1)}]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/editor.html",controller:"EditorCtrl"})}]),angular.element(document).ready(function(){angular.bootstrap(angular.element(document),["codeet"])}),angular.module("codeet").controller("EditorCtrl",["$scope","$rootScope","$routeParams",function(a,b,c){a.document={data:{name:"Untitled Document",body:""}},b.$watch("codeetDocument",function(){console.log(b.codeetDocument)}),a.aceLoaded=function(){window.opener&&window.opener.postMessage({message:"codeet-loaded"},c.origin)},a.save=function(){a.document&&a.document.opener&&(a.document.data.message="codeet-save",a.document.opener.source.postMessage(a.document.data,a.document.opener.origin))},a.close=function(){window.close(),window.opener&&window.opener.postMessage({message:"codeet-closed"},c.origin)}}]),angular.module("codeet").directive("uiAce",["$rootScope",function(a){return{link:function(b,c){c.css({fontSize:"18px"}),b.aceConfig={theme:"twilight",mode:"html",onLoad:b.aceLoaded,require:["ace/ext/language_tools"],advanced:{enableSnippets:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}};var d=ace.edit("editor");d.setShowPrintMargin(!1);{var e=ace.require("ace/ext/statusbar").StatusBar;new e(d,document.getElementById("statusbar"))}a.$watch("codeetDocument",function(a){a&&(b.document=a,console.log("codeetDocument watcher..."))})}}}]);